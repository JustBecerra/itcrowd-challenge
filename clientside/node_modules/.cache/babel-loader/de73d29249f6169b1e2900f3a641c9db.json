{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Justo/Desktop/itcrowd-challenge/clientside/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Justo/Desktop/itcrowd-challenge/clientside/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Justo\\\\Desktop\\\\itcrowd-challenge\\\\clientside\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import{useSelector,useDispatch}from'react-redux';import Product from\"../Product/Product.jsx\";import'./ProductsList.css';import{getProducts}from\"../../actions/getProducts.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductsList(){var dispatch=useDispatch();var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),currentPage=_React$useState2[0],setCurrentPage=_React$useState2[1];var products=useSelector(function(state){return state.products;}).slice(currentPage,currentPage+8);var nextPage=function nextPage(){if(currentPage<8){//puse 8 como condicion para que no siga a paginas vacias\nsetCurrentPage(currentPage+8);}};var lastPage=function lastPage(){if(currentPage>0){setCurrentPage(currentPage-8);}};React.useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.t0=dispatch;_context.next=4;return getProducts();case 4:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.next=11;break;case 8:_context.prev=8;_context.t2=_context[\"catch\"](0);console.log(_context.t2.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}))();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"plST\",children:[products.map(function(p){return/*#__PURE__*/_jsx(Product,{id:p.id,name:p.name,image:p.image_url,price:p.price,description:p.description},p.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttoncontainer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"pagebuttons\",onClick:lastPage,children:\"Last Page\"}),/*#__PURE__*/_jsx(\"button\",{className:\"pagebuttons\",onClick:nextPage,children:\"Next Page\"})]})]});}","map":{"version":3,"sources":["C:/Users/Justo/Desktop/itcrowd-challenge/clientside/src/components/ProductsList/ProductsList.jsx"],"names":["React","useSelector","useDispatch","Product","getProducts","ProductsList","dispatch","useState","currentPage","setCurrentPage","products","state","slice","nextPage","lastPage","useEffect","console","log","message","map","p","id","name","image_url","price","description"],"mappings":"waAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAO,oBAAP,CACA,OAASC,WAAT,KAA4B,8BAA5B,C,wFAEA,cAAe,SAASC,CAAAA,YAAT,EAAuB,CAClC,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,oBAAsCF,KAAK,CAACO,QAAN,CAAe,CAAf,CAAtC,oDAAOC,WAAP,qBAAoBC,cAApB,qBACA,GAAIC,CAAAA,QAAQ,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACD,QAAV,EAAN,CAAX,CAAqCE,KAArC,CAA2CJ,WAA3C,CAAwDA,WAAW,CAAG,CAAtE,CAAf,CAEA,GAAMK,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAGL,WAAW,CAAG,CAAjB,CAAmB,CAAC;AAClBC,cAAc,CAAED,WAAW,CAAG,CAAhB,CAAd,CACD,CACF,CAJD,CAMA,GAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAGN,WAAW,CAAG,CAAjB,CAAmB,CACjBC,cAAc,CAAED,WAAW,CAAG,CAAhB,CAAd,CACD,CACF,CAJD,CAMAR,KAAK,CAACe,SAAN,CAAgB,UAAM,CAClB,wDAAC,+JAECT,QAFD,uBAEgBF,CAAAA,WAAW,EAF3B,8IAKCY,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB,EALD,oEAAD,KAQH,CATD,CASE,EATF,EAWA,mBACI,aAAK,SAAS,CAAC,MAAf,WACGR,QAAQ,CAACS,GAAT,CAAa,SAAAC,CAAC,qBAAI,KAAC,OAAD,EAAoB,EAAE,CAAEA,CAAC,CAACC,EAA1B,CAA8B,IAAI,CAAED,CAAC,CAACE,IAAtC,CAA4C,KAAK,CAAEF,CAAC,CAACG,SAArD,CAAgE,KAAK,CAAEH,CAAC,CAACI,KAAzE,CAAgF,WAAW,CAAEJ,CAAC,CAACK,WAA/F,EAAcL,CAAC,CAACC,EAAhB,CAAJ,EAAd,CADH,cAEE,aAAK,SAAS,CAAC,iBAAf,wBACE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAEP,QAAzC,uBADF,cAIE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAED,QAAzC,uBAJF,GAFF,GADJ,CAaH","sourcesContent":["import React from \"react\"\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport Product from \"../Product/Product.jsx\"\r\nimport './ProductsList.css'\r\nimport { getProducts } from \"../../actions/getProducts.js\"\r\n\r\nexport default function ProductsList(){\r\n    const dispatch = useDispatch()\r\n    const [currentPage, setCurrentPage] = React.useState(0)\r\n    let products = useSelector(state => state.products).slice(currentPage, currentPage + 8)\r\n\r\n    const nextPage = () => {\r\n      if(currentPage < 8){//puse 8 como condicion para que no siga a paginas vacias\r\n        setCurrentPage( currentPage + 8)\r\n      }\r\n    }\r\n  \r\n    const lastPage = () => {\r\n      if(currentPage > 0){\r\n        setCurrentPage( currentPage - 8)\r\n      }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n        try{\r\n          dispatch(await getProducts())\r\n          \r\n        }catch(err){\r\n          console.log(err.message)\r\n        }\r\n        })()\r\n    },[])\r\n\r\n    return(\r\n        <div className=\"plST\">\r\n          {products.map(p => <Product key={p.id} id={p.id} name={p.name} image={p.image_url} price={p.price} description={p.description}/>)}\r\n          <div className=\"buttoncontainer\">\r\n            <button className='pagebuttons' onClick={lastPage}>\r\n              Last Page\r\n            </button>\r\n            <button className='pagebuttons' onClick={nextPage}>\r\n              Next Page\r\n            </button>\r\n          </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}