{"ast":null,"code":"import _defineProperty from\"C:/Users/Justo/Desktop/itcrowd-challenge/clientside/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Justo/Desktop/itcrowd-challenge/clientside/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Justo/Desktop/itcrowd-challenge/clientside/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Justo/Desktop/itcrowd-challenge/clientside/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Justo\\\\Desktop\\\\itcrowd-challenge\\\\clientside\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import Modal from'react-modal';import'./AddProd.css';import{useDispatch}from'react-redux';import{addProduct}from\"../../actions/addProduct\";import{getProducts}from\"../../actions/getProducts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddProd(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalIsOpen=_React$useState2[0],setIsOpen=_React$useState2[1];var _React$useState3=React.useState({image_url:'',name:'',price:0,description:''}),_React$useState4=_slicedToArray(_React$useState3,2),prodInfo=_React$useState4[0],setprodInfo=_React$useState4[1];var dispatch=useDispatch();function openModal(){setIsOpen(true);}function closeModal(){setIsOpen(false);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return addProduct(prodInfo);case 4:_context.t0=dispatch;_context.next=7;return getProducts();case 7:_context.t1=_context.sent;(0,_context.t0)(_context.t1);setprodInfo({image_url:'',name:'',price:0,description:''});closeModal();_context.next=16;break;case 13:_context.prev=13;_context.t2=_context[\"catch\"](1);console.log(_context.t2.message);case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,13]]);}));return _handleSubmit.apply(this,arguments);}function handleInput(e){setprodInfo(_objectSpread(_objectSpread({},prodInfo),{},_defineProperty({},e.target.name,e.target.value)));}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"AddButton\",onClick:openModal,children:\"Add product\"}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpen,onRequestClose:closeModal,ariaHideApp:false,className:\"modalBG\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,className:\"closeButton\",children:\"X\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},className:\"OverlayModal\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputST\",name:\"image_url\",type:\"text\",onChange:function onChange(e){return handleInput(e);},placeholder:\"url of the image\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputST\",name:\"name\",type:\"text\",onChange:function onChange(e){return handleInput(e);},placeholder:\"name of the product\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputST\",name:\"price\",type:\"text\",onChange:function onChange(e){return handleInput(e);},placeholder:\"price of the product\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputST\",name:\"description\",type:\"text\",onChange:function onChange(e){return handleInput(e);},placeholder:\"description of the product\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"upload\"})]})]})]});}","map":{"version":3,"sources":["C:/Users/Justo/Desktop/itcrowd-challenge/clientside/src/components/AddProd/AddProd.jsx"],"names":["React","Modal","useDispatch","addProduct","getProducts","AddProd","useState","modalIsOpen","setIsOpen","image_url","name","price","description","prodInfo","setprodInfo","dispatch","openModal","closeModal","handleSubmit","e","preventDefault","console","log","message","handleInput","target","value"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport Modal from 'react-modal';\r\nimport './AddProd.css'\r\nimport {useDispatch} from 'react-redux'\r\nimport { addProduct } from \"../../actions/addProduct\";\r\nimport { getProducts } from \"../../actions/getProducts\";\r\n\r\nexport default function AddProd(){\r\n    const [modalIsOpen, setIsOpen] = React.useState(false);\r\n    const [prodInfo,setprodInfo] = React.useState({\r\n      image_url:'',\r\n      name:'',\r\n      price:0,\r\n      description:''\r\n    })\r\n    \r\n    const dispatch = useDispatch()\r\n\r\n    function openModal() {\r\n      setIsOpen(true);\r\n    }\r\n      \r\n    function closeModal() {\r\n      setIsOpen(false);\r\n    }\r\n    \r\n    async function handleSubmit(e){\r\n      e.preventDefault()\r\n      try{\r\n        await addProduct(prodInfo)\r\n        dispatch(await getProducts())\r\n        setprodInfo({\r\n          image_url:'',\r\n          name:'',\r\n          price:0,\r\n          description:''\r\n        })\r\n        closeModal()\r\n      }catch(err){\r\n        console.log(err.message)\r\n      }\r\n    }\r\n\r\n    function handleInput(e){\r\n      setprodInfo({\r\n        ...prodInfo,\r\n        [e.target.name]: e.target.value\r\n      })\r\n    }\r\n\r\n    return(\r\n        <div>\r\n          <button className=\"AddButton\" onClick={openModal}>Add product</button>\r\n          <Modal\r\n            isOpen={modalIsOpen}\r\n            onRequestClose={closeModal}\r\n            ariaHideApp={false}\r\n            className='modalBG'\r\n          >\r\n            <button onClick={closeModal} className='closeButton'>X</button>\r\n            <form onSubmit={(e) => handleSubmit(e)}  className=\"OverlayModal\">\r\n              <input className=\"inputST\" name=\"image_url\" type=\"text\" onChange={(e) => handleInput(e)} placeholder=\"url of the image\" />\r\n              <input className=\"inputST\" name=\"name\" type=\"text\" onChange={(e) => handleInput(e)} placeholder=\"name of the product\" />\r\n              <input className=\"inputST\" name=\"price\" type=\"text\" onChange={(e) => handleInput(e)} placeholder=\"price of the product\" />\r\n              <input className=\"inputST\" name=\"description\" type=\"text\" onChange={(e) => handleInput(e)} placeholder=\"description of the product\" />\r\n              <button type=\"submit\">upload</button>\r\n            </form>\r\n            \r\n          </Modal>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}